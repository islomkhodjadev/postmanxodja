@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

/* Base dark mode styles for body */
body {
  @apply bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100;
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* Scrollbar styles for dark mode */
.dark ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dark ::-webkit-scrollbar-track {
  background: #1f2937;
}

.dark ::-webkit-scrollbar-thumb {
  background: #4b5563;
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #6b7280;
}

/* ── VariableInput Editor Styles ── */

.vi-editor-wrapper {
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  background: #fff;
  transition: border-color 0.15s, box-shadow 0.15s;
}

.vi-editor-wrapper:focus-within {
  border-color: #3b82f6;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3);
}

.dark .vi-editor-wrapper {
  border-color: #4b5563;
  background: #374151;
}

.dark .vi-editor-wrapper:focus-within {
  border-color: #3b82f6;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3);
}

/* Textarea (transparent text, handles input) */
.vi-textarea {
  color: transparent !important;
  caret-color: #111827;
  outline: none !important;
}

.dark .vi-textarea {
  caret-color: #f3f4f6;
}

/* Pre (renders highlighted text) */
.vi-pre {
  color: #111827;
}

.dark .vi-pre {
  color: #f3f4f6;
}

/* Single-line mode — scroll horizontally for long text, clip vertically */
.vi-singleline {
  overflow-x: auto;
  overflow-y: hidden;
  scrollbar-width: none; /* Firefox */
}

.vi-singleline::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Edge */
}

.vi-singleline .vi-textarea,
.vi-singleline .vi-pre {
  white-space: pre !important;
  word-wrap: normal !important;
  overflow-wrap: normal !important;
}

/* Multiline mode */
.vi-multiline {
  resize: vertical;
}

/* Variable highlight spans */
.vi-var {
  border-radius: 3px;
  padding: 0 2px;
  border: 1px solid;
  cursor: pointer;
}

.vi-var-found {
  background: rgba(255, 237, 213, 0.9);
  color: #c2410c;
  border-color: #fdba74;
}

.vi-var-missing {
  background: rgba(254, 226, 226, 0.9);
  color: #b91c1c;
  border-color: #fca5a5;
}

.dark .vi-var-found {
  background: rgba(194, 65, 12, 0.25);
  color: #fb923c;
  border-color: rgba(251, 146, 60, 0.4);
}

.dark .vi-var-missing {
  background: rgba(185, 28, 28, 0.25);
  color: #f87171;
  border-color: rgba(248, 113, 113, 0.4);
}

/* ── JSON Syntax Highlighting ── */

/* Keys: "property": */
.vi-json-key {
  color: #9333ea;
}

.dark .vi-json-key {
  color: #c084fc;
}

/* String values */
.vi-json-string {
  color: #16a34a;
}

.dark .vi-json-string {
  color: #4ade80;
}

/* Numbers */
.vi-json-number {
  color: #d97706;
}

.dark .vi-json-number {
  color: #fbbf24;
}

/* Booleans (true / false) */
.vi-json-boolean {
  color: #dc2626;
}

.dark .vi-json-boolean {
  color: #f87171;
}

/* null */
.vi-json-null {
  color: #6b7280;
  font-style: italic;
}

.dark .vi-json-null {
  color: #9ca3af;
}
